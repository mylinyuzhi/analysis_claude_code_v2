@claude_code_v_2.0.59/source/*.mjs 系列文件是claudecode的核心代码，里面被混淆了，任务是需要对这这些文件做功能分析 ，最大限度的理解和抽取里面的内容，按照模块级别输出。
代码文件比较大，100K，要分段阅读

要求：
1. 输出越详细越好，可以包括伪代码，代码片段
2. 每个模块可以使用输出一系列的分析文件（避免输出1个文件，体积太大）
3. 合理的组织输出的目录 ，输出到  @claude_code_v_2.0.59/analyze
  
参考的分析清单，在分析过程，如果发现重要的功能，可以自行添加：

- [ ] 整体系统架构与工作流 （高优先级）
- [ ] 命令行参数解析与处理
- [ ] 用户交互界面 (基于Ink.js)
- [ ] LLM调用核心逻辑 (模型选择、Prompt构建、API请求，抽取所有的 prompt) （高优先级）
- [ ] system reminder 的 机制和注入时机 （高优先级）
- [ ] Tool Calling 机制 (工具定义、调用、权限)，列出所有的tool列表（高优先级）
- [ ] MCP (Model Context Protocol) 协议的实现与交互
- [ ] `/compact` 指令的工作原理 （高优先级）
- [ ] `subagent` 的 设计和实现 ，和所有内置的 subagent（高优先级），
- [ ] `slash command` 设计和实现，和所有内置的 command（高优先级）
- [ ] `skill` 设计和实现  （高优先级）
- [ ] `hook` 系统的设计和实现 （高优先级）
- [ ] `plan` 模式 （高优先级）
- [ ] `todo list` 的实现 （高优先级）
- [ ] 代码 index/retrieval 的机制，tree-sitter/AST （高优先级）
- [ ] 状态管理与历史记录 高优先级）
- [ ] 文件系统操作的封装
- [ ] 错误处理与日志遥测